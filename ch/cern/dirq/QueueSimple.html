<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Thu Mar 14 14:50:38 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>QueueSimple (dirq 1.3-SNAPSHOT API)</title>
<meta name="date" content="2013-03-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="QueueSimple (dirq 1.3-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/cern/dirq/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueueSimple.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ch/cern/dirq/QueueNull.html" title="class in ch.cern.dirq"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/cern/dirq/QueueSimple.html" target="_top">Frames</a></li>
<li><a href="QueueSimple.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.cern.dirq</div>
<h2 title="Class QueueSimple" class="title">Class QueueSimple</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>ch.cern.dirq.QueueSimple</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">QueueSimple</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></pre>
<div class="block">QueueSimple - object oriented interface to a simple directory based queue.
 <p>
 A port of Perl module Directory::Queue::Simple
 <a href="http://search.cpan.org/dist/Directory-Queue/">
 http://search.cpan.org/dist/Directory-Queue/</a>
 <p>
 The documentation from Directory::Queue::Simple module was adapted for Java.
 <p>
 <h3>Usage</h3>
 <pre>
 <code>// sample producer
 QueueSimple dirq = new QueueSimple("/tmp/test");
 for (int i=0; i &lt; 100; i++) {
 	String name = dirq.add("element " + i);
 	System.out.println("# added element " + i + " as " + name);
 }
 
 // sample consumer
 dirq = QueueSimple('/tmp/test');
 for (String name:dirq) {
 	if (! dirq.lock(name)) {
 		continue;
 	}   
 	System.out.println("# reading element " + name);
 	String data = dirq.get(name);
 	// one could use dirq.unlock(name) to only browse the queue...
 	dirq.remove(name);
 }
 </code>
 </pre>
 <h3>Description</h3>
 <p>
 This module is very similar to normal dirq, but uses a different way to
 store data in the filesystem, using less directories. Its API is almost
 identical.
 <p>
 Compared to normal dirq, this module:
 <ul>
 <li>is simpler
 <li>is faster
 <li>uses less space on disk
 <li>can be given existing files to store
 <li>does not support schemas
 <li>can only store and retrieve byte strings
 <li>is not compatible (at filesystem level) with Queue
 </ul>
 <p>
 <h3>Directory Structure</h3>
 <p>
 The toplevel directory contains intermediate directories that contain
 the stored elements, each of them in a file.<br />
 The names of the intermediate directories are time based: the element
 insertion time is used to create a 8-digits long hexadecimal number.<br />
 The granularity (see the constructor) is used to limit the number of
 new directories. For instance, with a granularity of 60 (the default),
 new directories will be created at most once per minute.
 <p>
 Since there is usually a filesystem limit in the number of directories
 a directory can hold, there is a trade-off to be made. If you want to
 support many added elements per second, you should use a low
 granularity to keep small directories. However, in this case, you will
 create many directories and this will limit the total number of
 elements you can store.
 <p>
 The elements themselves are stored in files (one per element) with a
 14-digits long hexadecimal name SSSSSSSSMMMMMR where:
 <ul>
 <li>SSSSSSSS represents the number of seconds since the Epoch
 <li>MMMMM represents the microsecond part of the time since the Epoch
 <li>R is a random digit used to reduce name collisions
 </ul>
 <p>
 A temporary element (being added to the queue) will have a
 <i>.tmp</i> suffix.
 <p>
 A locked element will have a hard link with the same name and the
 <i>.lck</i> suffix.
 <p>
 Please refer to <a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq"><code>Queue</code></a> for general information about
 directory queues.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Massimo Paladin - massimo.paladin@gmail.com
 <br />Copyright CERN 2010-2013</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#DIRECTORY_REGEXP">DIRECTORY_REGEXP</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#ELEMENT_REGEXP">ELEMENT_REGEXP</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#LOCKED_SUFFIX">LOCKED_SUFFIX</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#TEMPORARY_SUFFIX">TEMPORARY_SUFFIX</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#QueueSimple(java.lang.String)">QueueSimple</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queuePath)</code>
<div class="block">Constructor which takes only the path of the queue and set umask
 and granularity to default values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#QueueSimple(java.lang.String, int)">QueueSimple</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queuePath,
           int&nbsp;umask)</code>
<div class="block">Constructor which takes the path of the directory queue,
 its granularity option and the umask the created folder.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#QueueSimple(java.lang.String, int, int)">QueueSimple</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queuePath,
           int&nbsp;umask,
           int&nbsp;granularity)</code>
<div class="block">Constructor which takes the path of the directory queue,
 its granularity option and the umask the created folder.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#add(byte[])">add</a></strong>(byte[]&nbsp;data)</code>
<div class="block">Add data as byte array to the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#add(java.lang.String)">add</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;data)</code>
<div class="block">Add data as a string to the queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#addPath(java.lang.String)">addPath</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Add the given file (identified by its path) to the queue and return
 the corresponding element name, the file must be on the same
 filesystem and will be moved to the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#count()">count</a></strong>()</code>
<div class="block">Return the number of elements in the queue, locked or not
 (but not temporary).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#get(java.lang.String)">get</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Get locked element as a string.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#getAsByteArray(java.lang.String)">getAsByteArray</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Get locked element as a byte array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#getGranularity()">getGranularity</a></strong>()</code>
<div class="block">Return the granularity value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#getId()">getId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#getPath(java.lang.String)">getPath</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Return the path given the name of the element.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#getQueuePath()">getQueuePath</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#iterator()">iterator</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#lock(java.lang.String)">lock</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Lock an element in permissive mode.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#lock(java.lang.String, boolean)">lock</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
    boolean&nbsp;permissive)</code>
<div class="block">Lock an element.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#purge()">purge</a></strong>()</code>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#purge(int)">purge</a></strong>(int&nbsp;maxLock)</code>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#purge(int, int)">purge</a></strong>(int&nbsp;maxTemp,
     int&nbsp;maxLock)</code>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#purge(java.util.Map)">purge</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;options)</code>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#remove(java.lang.String)">remove</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Remove a locked element from the queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#setGranularity(int)">setGranularity</a></strong>(int&nbsp;granularity)</code>
<div class="block">Set the granularity property.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#unlock(java.lang.String)">unlock</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Unlock an element in non-permissive mode.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/QueueSimple.html#unlock(java.lang.String, boolean)">unlock</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
      boolean&nbsp;permissive)</code>
<div class="block">Unlock an element.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TEMPORARY_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TEMPORARY_SUFFIX</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> TEMPORARY_SUFFIX</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#ch.cern.dirq.QueueSimple.TEMPORARY_SUFFIX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="LOCKED_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCKED_SUFFIX</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> LOCKED_SUFFIX</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#ch.cern.dirq.QueueSimple.LOCKED_SUFFIX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DIRECTORY_REGEXP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIRECTORY_REGEXP</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a> DIRECTORY_REGEXP</pre>
</li>
</ul>
<a name="ELEMENT_REGEXP">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ELEMENT_REGEXP</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex">Pattern</a> ELEMENT_REGEXP</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="QueueSimple(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QueueSimple</h4>
<pre>public&nbsp;QueueSimple(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queuePath)
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructor which takes only the path of the queue and set umask
 and granularity to default values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>queuePath</code> - the path of the directory queue</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="QueueSimple(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QueueSimple</h4>
<pre>public&nbsp;QueueSimple(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queuePath,
           int&nbsp;umask)
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructor which takes the path of the directory queue,
 its granularity option and the umask the created folder.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>queuePath</code> - the path of the directory queue</dd><dd><code>umask</code> - umask the umask value to be set during folder creation</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="QueueSimple(java.lang.String, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>QueueSimple</h4>
<pre>public&nbsp;QueueSimple(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;queuePath,
           int&nbsp;umask,
           int&nbsp;granularity)
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructor which takes the path of the directory queue,
 its granularity option and the umask the created folder.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>queuePath</code> - the path of the directory queue</dd><dd><code>umask</code> - the umask value to be set during folder creation</dd><dd><code>granularity</code> - the granularity of the directory queue</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getGranularity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGranularity</h4>
<pre>public&nbsp;int&nbsp;getGranularity()</pre>
<div class="block">Return the granularity value.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>granularity value</dd></dl>
</li>
</ul>
<a name="setGranularity(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGranularity</h4>
<pre>public&nbsp;void&nbsp;setGranularity(int&nbsp;granularity)</pre>
<div class="block">Set the granularity property.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>granularity</code> - value to be set as granularity</dd></dl>
</li>
</ul>
<a name="getId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getId()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#getId()">getId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the queue id</dd></dl>
</li>
</ul>
<a name="getQueuePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueuePath</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getQueuePath()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the queue path</dd></dl>
</li>
</ul>
<a name="add(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;add(byte[]&nbsp;data)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#add(byte[])">Queue</a></code></strong></div>
<div class="block">Add data as byte array to the queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#add(byte[])">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - data to be added to the queue</dd>
<dt><span class="strong">Returns:</span></dt><dd>return the element name (<directory_name>/<file_name>)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="add(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;add(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;data)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#add(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Add data as a string to the queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#add(java.lang.String)">add</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - data to be added to the queue</dd>
<dt><span class="strong">Returns:</span></dt><dd>return the element name (<directory_name>/<file_name>)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="addPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPath</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;addPath(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)
               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#addPath(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Add the given file (identified by its path) to the queue and return
 the corresponding element name, the file must be on the same
 filesystem and will be moved to the queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#addPath(java.lang.String)">addPath</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - the path of the file to be added</dd>
<dt><span class="strong">Returns:</span></dt><dd>return the element name (<directory_name>/<file_name>)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="get(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;get(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#get(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Get locked element as a string.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#get(java.lang.String)">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - the name of the element to be returned</dd>
<dt><span class="strong">Returns:</span></dt><dd>return the value associated to the given name</dd></dl>
</li>
</ul>
<a name="getAsByteArray(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAsByteArray</h4>
<pre>public&nbsp;byte[]&nbsp;getAsByteArray(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#getAsByteArray(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Get locked element as a byte array.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#getAsByteArray(java.lang.String)">getAsByteArray</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - the name of the element to be returned</dd>
<dt><span class="strong">Returns:</span></dt><dd>the value associated to the given name</dd></dl>
</li>
</ul>
<a name="getPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getPath(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#getPath(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Return the path given the name of the element.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#getPath(java.lang.String)">getPath</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - the name of the element</dd>
<dt><span class="strong">Returns:</span></dt><dd>the path of the element</dd></dl>
</li>
</ul>
<a name="lock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;boolean&nbsp;lock(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#lock(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Lock an element in permissive mode.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#lock(java.lang.String)">lock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be locked</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if
 the element could not be locked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="lock(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;boolean&nbsp;lock(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
           boolean&nbsp;permissive)
             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#lock(java.lang.String, boolean)">Queue</a></code></strong></div>
<div class="block">Lock an element.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#lock(java.lang.String, boolean)">lock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be locked</dd><dd><code>permissive</code> - work in permissive mode</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if
 the element could not be locked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="unlock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;boolean&nbsp;unlock(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#unlock(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Unlock an element in non-permissive mode.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#unlock(java.lang.String)">unlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be locked</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if
 the element could not be unlocked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="unlock(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;boolean&nbsp;unlock(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             boolean&nbsp;permissive)
               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#unlock(java.lang.String, boolean)">Queue</a></code></strong></div>
<div class="block">Unlock an element.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#unlock(java.lang.String, boolean)">unlock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be locked</dd><dd><code>permissive</code> - work in permissive mode</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if
 the element could not be unlocked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="remove(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#remove(java.lang.String)">Queue</a></code></strong></div>
<div class="block">Remove a locked element from the queue.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#remove(java.lang.String)">remove</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be removed</dd></dl>
</li>
</ul>
<a name="count()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;int&nbsp;count()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#count()">Queue</a></code></strong></div>
<div class="block">Return the number of elements in the queue, locked or not
 (but not temporary).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#count()">count</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the number of elements in the queue</dd></dl>
</li>
</ul>
<a name="purge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>public&nbsp;void&nbsp;purge()
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#purge()">Queue</a></code></strong></div>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.
 <p>
 It uses default value for maxTemp and maxLock</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#purge()">purge</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="purge(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>public&nbsp;void&nbsp;purge(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;options)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#purge(java.util.Map)">Queue</a></code></strong></div>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#purge(java.util.Map)">purge</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>options</code> - map containing purge options, only <i>maxLock</i>
 and <i>maxTemp</i> values are used, the others are ignored</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="purge(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>public&nbsp;void&nbsp;purge(int&nbsp;maxLock)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#purge(int)">Queue</a></code></strong></div>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#purge(int)">purge</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>maxLock</code> - maximum time for a locked element
 (in seconds, default 600);
 if set to 0, locked elements will not be unlocked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="purge(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>public&nbsp;void&nbsp;purge(int&nbsp;maxTemp,
         int&nbsp;maxLock)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html#purge(int, int)">Queue</a></code></strong></div>
<div class="block">Purge the queue by removing unused intermediate directories,
 removing too old temporary elements and unlocking too old locked
 elements (aka staled locks); note: this can take a long time on
 queues with many elements.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ch/cern/dirq/Queue.html#purge(int, int)">purge</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ch/cern/dirq/Queue.html" title="interface in ch.cern.dirq">Queue</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>maxTemp</code> - maximum time for a temporary element
 (in seconds, default 300);
 if set to 0, temporary elements will not be removed</dd><dd><code>maxLock</code> - maximum time for a locked element
 (in seconds, default 600);
 if set to 0, locked elements will not be unlocked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fail</dd></dl>
</li>
</ul>
<a name="iterator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;iterator()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true#iterator()" title="class or interface in java.lang">iterator</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/cern/dirq/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueueSimple.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ch/cern/dirq/QueueNull.html" title="class in ch.cern.dirq"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/cern/dirq/QueueSimple.html" target="_top">Frames</a></li>
<li><a href="QueueSimple.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
