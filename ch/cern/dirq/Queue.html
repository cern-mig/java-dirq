<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Mon Nov 02 10:12:29 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Queue (dirq 1.6-SNAPSHOT API)</title>
<meta name="date" content="2015-11-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Queue (dirq 1.6-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/cern/dirq/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Queue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../ch/cern/dirq/QueueNull.html" title="class in ch.cern.dirq"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/cern/dirq/Queue.html" target="_top">Frames</a></li>
<li><a href="Queue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.cern.dirq</div>
<h2 title="Interface Queue" class="title">Interface Queue</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../ch/cern/dirq/QueueNull.html" title="class in ch.cern.dirq">QueueNull</a>, <a href="../../../ch/cern/dirq/QueueSimple.html" title="class in ch.cern.dirq">QueueSimple</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">Queue</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</pre>
<div class="block">Queue - object oriented interface to a directory based queue.
 <br>
 <h3>Description</h3> The goal of this module is to offer a queue system using
 the underlying filesystem for storage, security and to prevent race
 conditions via atomic operations. It focuses on simplicity, robustness and
 scalability.
 <br>
 This module allows multiple concurrent readers and writers to interact with
 the same queue.
 <br>
 Different implementations are available so readers and writers can be written
 in different programming languages:
 <ul>
 <li>A Perl implementation of the same algorithms is available at
 <a href="http://search.cpan.org/dist/Directory-Queue/">
 http://search.cpan.org/dist/Directory-Queue/</a>
 <li>A Python implementation of the same algorithms is available at
 <a href="https://github.com/cern-mig/python-dirq">
 https://github.com/cern-mig/python-dirq</a>
 </ul>
 <br>
 There is no knowledge of priority within a queue. If multiple priorities are
 needed, multiple queues should be used.
 <br>
 <h3>Terminology</h3>
 An element is something that contains one or more pieces of data. With
 <a href="../../../ch/cern/dirq/QueueSimple.html" title="class in ch.cern.dirq"><code>QueueSimple</code></a> queues, an element can only contain one
 binary string.
 <br>
 A queue is a "best effort" FIFO (First In - First Out) collection of
 elements.
 <br>
 It is very hard to guarantee pure FIFO behavior with multiple writers using
 the same queue. Consider for instance:
 <ul>
 <li>Writer1: calls the add() method
 <li>Writer2: calls the add() method
 <li>Writer2: the add() method returns
 <li>Writer1: the add() method returns
 </ul>
 Who should be first in the queue, Writer1 or Writer2?
 <br>
 For simplicity, this implementation provides only "best effort" FIFO, i.e.
 there is a very high probability that elements are processed in FIFO order
 but this is not guaranteed. This is achieved by using a high-resolution timer
 and having elements sorted by the time their final directory gets created.
 <br>
 <h3>Locking</h3> Adding an element is not a problem because the add() method
 is atomic.
 <br>
 In order to support multiple reader processes interacting with the same
 queue, advisory locking is used. Processes should first lock an element
 before working with it. In fact, the get() and remove() methods report a
 fatal error if they are called on unlocked elements.
 <br>
 If the process that created the lock dies without unlocking the element, we
 end up with a staled lock. The purge() method can be used to remove these
 staled locks.
 <br>
 An element can basically be in only one of two states: locked or unlocked.
 <br>
 A newly created element is unlocked as a writer usually does not need to do
 anything more with it.
 <br>
 Iterators return all the elements, regardless of their states.
 <br>
 There is no method to get an element state as this information is usually
 useless since it may change at any time. Instead, programs should directly
 try to lock elements to make sure they are indeed locked.
 <br>
 <h3>Security</h3> There are no specific security mechanisms in this module.
 <br>
 The elements are stored as plain files and directories. The filesystem
 security features (owner, group, permissions, ACLs...) should be used to
 adequately protect the data.
 <br>
 By default, the process' umask is respected. See the class constructor
 documentation if you want an other behavior.
 <br>
 If multiple readers and writers with different uids are expected, the
 easiest solution is to have all the files and directories inside the
 toplevel directory world-writable (i.e. umask=0). Then, the permissions of
 the toplevel directory itself (e.g. group-writable) are enough to control
 who can access the queue.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Lionel Cons &lt;lionel.cons@cern.ch&gt;, Massimo Paladin &lt;massimo.paladin@gmail.com&gt;
 Copyright (C) CERN 2012-2015</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#add(byte[])">add</a></strong>(byte[]&nbsp;data)</code>
<div class="block">Add byte array data to the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#add(java.lang.String)">add</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;data)</code>
<div class="block">Add String data to the queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#addPath(java.lang.String)">addPath</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Add the given file (identified by its path) to the queue and return the
 corresponding element name, the file must be on the same filesystem and
 will be moved to the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#count()">count</a></strong>()</code>
<div class="block">Return the number of elements in the queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#get(java.lang.String)">get</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Get the given locked element as String data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#getAsByteArray(java.lang.String)">getAsByteArray</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Get the given locked element as byte array data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#getId()">getId</a></strong>()</code>
<div class="block">Return a unique identifier for the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#getPath(java.lang.String)">getPath</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Get the path of the given locked element.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#lock(java.lang.String)">lock</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Lock an element in permissive mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#lock(java.lang.String,%20boolean)">lock</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
    boolean&nbsp;permissive)</code>
<div class="block">Lock an element.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#purge()">purge</a></strong>()</code>
<div class="block">Purge the queue by removing unused intermediate directories, removing too
 old temporary elements and unlocking too old locked elements (aka staled
 locks); note: this can take a long time on queues with many elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#purge(int)">purge</a></strong>(int&nbsp;maxLock)</code>
<div class="block">Purge the queue by removing unused intermediate directories, removing too
 old temporary elements and unlocking too old locked elements (aka staled
 locks); note: this can take a long time on queues with many elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#purge(int,%20int)">purge</a></strong>(int&nbsp;maxLock,
     int&nbsp;maxTemp)</code>
<div class="block">Purge the queue by removing unused intermediate directories, removing too
 old temporary elements and unlocking too old locked elements (aka staled
 locks); note: this can take a long time on queues with many elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#remove(java.lang.String)">remove</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Remove a locked element from the queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#unlock(java.lang.String)">unlock</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Unlock an element in non-permissive mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/cern/dirq/Queue.html#unlock(java.lang.String,%20boolean)">unlock</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
      boolean&nbsp;permissive)</code>
<div class="block">Unlock an element.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Iterable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true#iterator()" title="class or interface in java.lang">iterator</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getId()</pre>
<div class="block">Return a unique identifier for the queue.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>unique queue identifier</dd></dl>
</li>
</ul>
<a name="add(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;add(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;data)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Add String data to the queue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - data to be added</dd>
<dt><span class="strong">Returns:</span></dt><dd>element name (as <i>directory_name</i>/<i>file_name</i>)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="add(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;add(byte[]&nbsp;data)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Add byte array data to the queue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - data to be added</dd>
<dt><span class="strong">Returns:</span></dt><dd>element name (as <i>directory_name</i>/<i>file_name</i>)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="addPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPath</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;addPath(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Add the given file (identified by its path) to the queue and return the
 corresponding element name, the file must be on the same filesystem and
 will be moved to the queue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - path of the file to be added</dd>
<dt><span class="strong">Returns:</span></dt><dd>element name (as <i>directory_name</i>/<i>file_name</i>)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="get(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;get(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Get the given locked element as String data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be retrieved</dd>
<dt><span class="strong">Returns:</span></dt><dd>data associated with the given element</dd></dl>
</li>
</ul>
<a name="getAsByteArray(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAsByteArray</h4>
<pre>byte[]&nbsp;getAsByteArray(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Get the given locked element as byte array data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be retrieved</dd>
<dt><span class="strong">Returns:</span></dt><dd>data associated with the given element</dd></dl>
</li>
</ul>
<a name="getPath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getPath(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Get the path of the given locked element.
 <br>
 This pathFile can be read but not removed, you must use the remove()
 method for this purpose.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element</dd>
<dt><span class="strong">Returns:</span></dt><dd>path of the element</dd></dl>
</li>
</ul>
<a name="lock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>boolean&nbsp;lock(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Lock an element in permissive mode.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be locked</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if the element
         could not be locked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="lock(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>boolean&nbsp;lock(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
           boolean&nbsp;permissive)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Lock an element.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be locked</dd><dd><code>permissive</code> - work in permissive mode</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if the element
         could not be locked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="unlock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>boolean&nbsp;unlock(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Unlock an element in non-permissive mode.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be unlocked</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if the element
         could not be unlocked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="unlock(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>boolean&nbsp;unlock(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
             boolean&nbsp;permissive)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Unlock an element.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be unlocked</dd><dd><code>permissive</code> - work in permissive mode</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> if the element
         could not be unlocked</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="remove(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>void&nbsp;remove(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Remove a locked element from the queue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - name of the element to be removed</dd></dl>
</li>
</ul>
<a name="count()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>int&nbsp;count()</pre>
<div class="block">Return the number of elements in the queue.
 <br>
 Locked elements are counted but temporary elements are not.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of elements in the queue</dd></dl>
</li>
</ul>
<a name="purge()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>void&nbsp;purge()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Purge the queue by removing unused intermediate directories, removing too
 old temporary elements and unlocking too old locked elements (aka staled
 locks); note: this can take a long time on queues with many elements.
 <br>
 It uses default value for maxTemp and maxLock</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="purge(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>void&nbsp;purge(int&nbsp;maxLock)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Purge the queue by removing unused intermediate directories, removing too
 old temporary elements and unlocking too old locked elements (aka staled
 locks); note: this can take a long time on queues with many elements.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>maxLock</code> - maximum time for a locked element (in seconds);
                if set to 0, locked elements will not be unlocked;
                if set to null, the object's default value will be used</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
<a name="purge(int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>purge</h4>
<pre>void&nbsp;purge(int&nbsp;maxLock,
         int&nbsp;maxTemp)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Purge the queue by removing unused intermediate directories, removing too
 old temporary elements and unlocking too old locked elements (aka staled
 locks); note: this can take a long time on queues with many elements.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>maxLock</code> - maximum time for a locked element (in seconds);
                if set to 0, locked elements will not be unlocked;
                if set to null, the object's default value will be used</dd><dd><code>maxTemp</code> - maximum time for a temporary element (in seconds);
                if set to 0, temporary elements will not be removed
                if set to null, the object's default value will be used</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if any file operation fails</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/cern/dirq/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Queue.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../ch/cern/dirq/QueueNull.html" title="class in ch.cern.dirq"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/cern/dirq/Queue.html" target="_top">Frames</a></li>
<li><a href="Queue.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
